<nav aria-label="Sitemap" class="u-text-group">
    <ul>
        <li><a href="/">Home</a></li>
        {% assign previous_level = 1 %}
        
        {% for page in site.pages | sort %}  
        
        {% assign path_array = page.dir | split: "/" %}
        {% assign current_level = path_array.size %}
        {% assign previous_level = current_level %}
        
        {% if current_level == 0 %}
        
        {% comment %}
        Top level pages probably shouldn't be included.
        {% endcomment %}

        
        {% else %}

        <li>
            <a href="{{ page.url }}">{{ page.url }} (current_level: {{ current_level }} previous_level: {{ previous_level }})</a>
            
        </li>
        {% assign previous_level = current_level %}
        
        {% endif %}
        
        {% endfor %}
    </ul>
</nav>